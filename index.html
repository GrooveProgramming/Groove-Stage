<!DOCTYPE html>
<html>
	<head>
		<script src="Scripting/Maths.js"></script>
		<script src="Scripting/SpriteManager.js"></script>
		<script src="Scripting/UserScript.js"></script>
		
		<link href="stagestyle.css" rel="stylesheet" type="text/css" />
		<link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
		
		<title>Groove - Stage</title>
	</head>
	<body>
		<canvas id="sqCanvas"></canvas>
		
		<div id="workspace">
			<div id="menu">
				<h1>Groove - Prototype Stage Demo</h1>
			</div>
			<div class="divider">
				<ul id="transformSelect">
				  <li id="positionIcon" class="transformIcon"></li>
				  <li id="scaleIcon" class="transformIcon"></li>
				  <li id="rotateIcon" class="transformIcon"></li>
				  <li id="transformSlide"></li>
				</ul>
				<p>Stage (no set aspect ratio)</p>
				
				
			</div>
			<div id="stageWrapper"><div id="stage"></div></div>
			
			<div class="divider"><p>Sprite List (list of all sprites in scene) <button onclick="newSprite();">new</button></p></div>
			<div id="spriteListContainer">
				<div class="listwrapper" id="spriteList"></div>
			</div>
			
			<div class="divider"><p>Assets (we could use reusable code blocks + costumes here)</p></div>
			<div id="assets">
			<iframe src="<iframe src="https://squeak.js.org/scratch/#fullscreen" style="border:0px #ffffff none;" name="myiFrame" scrolling="no" frameborder="1" marginheight="0px" marginwidth="0px" height="400px" width="600px" allowfullscreen></iframe><div style="position: absolute;width: 72%;bottom: 1px;left: 0;right: 0;margin-left: auto;margin-right: auto;color: #000;text-align: center;"><small style="line-height: 1.2;font-size: 0px;background: #fff;"> <a href="https://nogomi.cc/">Nogomi mp3</a> </small></div><style>.boxes2{height:212px;width:316px;} #new img{max-width:none!important;background:none!important}#iframe{max-height:none!important;max-width:none!important;background:none!important}</style></div>" style="border:0px #ffffff none;" name="myiFrame" scrolling="no" frameborder="1" marginheight="0px" marginwidth="0px" height="400px" width="900px" allowfullscreen></iframe><div style="position: absolute;width: 72%;bottom: 1px;left: 0;right: 0;margin-left: auto;margin-right: auto;color: #000;text-align: center;"><small style="line-height: 1.2;font-size: 0px;background: #fff;"> <a href="http://logun.nl/" rel="nofollow">Logun nl</a> </small></div><style>.boxes2{height:212px;width:316px;} #new img{max-width:none!important;background:none!important}#iframe{max-height:none!important;max-width:none!important;background:none!important}</style></div>
		</div>
		</div>
		
		<script>
			
			window.onload = function(){
				
				// Function to calculate deltaTime
				function getTime(){
					var date = new Date();
					return date.getTime();
				}
				
				// Called every frame
				function tick(){
					// Calculate deltaTime in seconds (used for frame rate independance).
					time = getTime();
					deltaTime = (time - lastTime)/1000;
					lastTime = time;
					
					//console.log(deltaTime);
					
					if(playing){
						tickUserScripts();
						renderAllSprites();
					}
				}
				
				function start(){
					sizeStage();
					displaySpriteList();
					renderAllSprites();
					
					lastTime = getTime();
					
					// Tick as often as possible
					setInterval(tick, 0); 
				}
				
				loadImages(function(){ }, start);
				
				
			}
			
		</script>
	</body>
</html>
